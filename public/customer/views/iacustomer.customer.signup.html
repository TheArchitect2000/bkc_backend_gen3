<!DOCTYPE html>
<html>

<head>
    <!-- Chrome, Firefox OS and Opera -->
    <meta name="theme-color" content="#F44336">
    <!-- Windows Phone -->
    <meta name="msapplication-navbutton-color" content="#F44336">
    <!-- iOS Safari -->
    <link rel="apple-touch-icon" href="images/iasign.png">
    <meta name="apple-mobile-web-app-status-bar-style" content="#F44336">
    <meta http-equiv="X-UA-Compatible" content="IE=Edge">
    <meta content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no" name="viewport">
    <title>BKC Control Panel</title>
    <!-- Favicon-->
    <link rel="icon" href="/share/IA.ico" type="image/x-icon">
    <meta charset="UTF-8">
    <meta content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no" name="viewport">
    <title>BKC Control Panel (Sign Up)</title>
    <!-- Favicon-->
    <!--<link rel="icon" href="../../favicon.ico" type="image/x-icon">-->

    <!-- Google Fonts -->
    <!--<link href="https://fonts.googleapis.com/css?family=Roboto:400,700&subset=latin,cyrillic-ext" rel="stylesheet" type="text/css">-->

    <!--material fonts-->
    <!--<link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet" type="text/css">-->
    <link href="/share/material-icons/material-design-icons.css" rel="stylesheet" type="text/css">

    <!--mdi fonts-->
    <!--<link rel="stylesheet" href="//cdn.materialdesignicons.com/3.6.95/css/materialdesignicons.min.css">-->
    <link rel="stylesheet" href="/share/mdi/css/materialdesignicons.min.css">

    <!-- Bootstrap Core Css -->
    <link href="/share/plugins/bootstrap/css/bootstrap.css" rel="stylesheet">

    <!-- Waves Effect Css -->
    <link href="/share/plugins/node-waves/waves.css" rel="stylesheet"/>

    <!-- Animation Css -->
    <link href="/share/plugins/animate-css/animate.css" rel="stylesheet"/>

    <!-- Custom Css -->
    <!--<link href="/share/css/style.css" rel="stylesheet">-->
    <link href="/share/css/style-x2.css" rel="stylesheet">
    <style>
        html, body {
            height: 100%;
        }

        body > div.row {
            height: 100%;
            display: -webkit-flexbox;
            display: -ms-flexbox;
            display: -webkit-flex;
            display: flex;
            -webkit-flex-align: center;
            -ms-flex-align: center;
            -webkit-align-items: center;
            align-items: center;
            justify-content: center;
        }

        .card, .body {
            box-shadow: 0 2px 10px rgba(0, 0, 0, 0.2);
            border-radius: .5pc;
        }
        input {
            text-indent: .5pc;
        }
        @media (max-width: 767px) {
            .card, .body {
                box-shadow: none;
            }

            .footer {
                border-top: 1px solid grey;
            }
        }
        .afteremail.disabled {
            pointer-events: none;
            opacity: .10;
        }
    </style>
</head>

<body class="container">
<div class="row ">
    <div class="col-sm-offset-1  col-sm-4 hidden-xs" >
        <img class="img-responsive" ssbind="src:'../../share/images/logo-'+whichserver+'.png'" style="min-width: 200px">
        <br><br>
<!--        <center><a target="_blank" href="#iaaddress" class="col-red b-1 " style="padding: .4pc; border-radius: 1pc"><b><nobr>Go to <span ssbind="text:domainName"></span> Website</nobr></b></a></center>-->
    </div>

    <div class="col-sm-offset-1 col-sm-5 ">
        <div class="card" styleX=" min-width: 300px; max-width: 390px">
            <div class="col-sm-12 visible-xs " >
                <img class="img-responsive" ssbind="src:'../../share/images/logo-h-'+whichserver+'.png'" >
            </div>
            <div class="body form-group m-b-0">
                <div class="m-b-20 ia-bigger-title col-red align-center"><nobr>BKC Control Panel</nobr>
                </div>
                <form id="sign_up" method="POST" action="/customer/signup">
                    <div class="col-sm-12">
                        <label for="email" class="ia-big-title">Email *</label>
                        <div class="form-line">
                            <input type="email" class="form-control b-1" name="Email" id="email" placeholder="Email address" required onchange="this.value=this.value.trim().toLowerCase()"
                                   autofocus>
                        </div>
                    </div>
                    <!--<div class="col-sm-12">
                        <input class="btn btn-block bg-red waves-effect ia-big-title" type="button" value="Verify Email" onclick="verifyEmail()"></input>
                    </div> class for next item="afteremail disabled"-->

                    <div class="">
                        <div class="col-sm-6 ">
                            <label for="password" class="ia-big-title">Password *</label>
                            <div class="form-line">
                                <input type="password" class="form-control b-1" name="Password" id="password" placeholder="Password" required>
                            </div>
                        </div>
                        <div class="col-sm-6 ">
                            <label class="ia-big-title" for="repassword"><nobr>Re-Password *</nobr></label>
                            <div class="form-line">
                                <input type="password" class="form-control b-1" name="RePassword" id="repassword" placeholder="Password" required>
                            </div>
                        </div>


                        <div class="col-sm-6">
                            <label for="firstname"><span class=" ia-big-title ">First Name *</span></label>
                            <div class="form-line ">
                                <input type="text" name="FirstName" id="firstname" placeholder="First Name" class="form-control b-1" required >
                                <!--<label class="form-label">First Name</label>-->
                            </div>
                        </div>
                        <div class="col-sm-6">
                            <label for="lastname"><span class=" ia-big-title ">Last Name *</span></label>
                            <div class="form-line ">
                                <input type="text" name="LastName" id="lastname" placeholder="Last Name" class="form-control b-1" required >
                                <!--<label class="form-label">Last Name</label>-->
                            </div>
                        </div>
                        <div class="col-sm-12">
                            <label for="mobile"><span class=" ia-big-title ">Mobile</span></label>
                            <div class="form-line ">
                                <input type="text" name="Mobile" id="mobile" placeholder="To receive text messages (Optional)" class="form-control b-1" >
<!--                                <label class="form-label">To receive text messages (Optional)</label>-->
                            </div>
                        </div>


                        <div class="col-sm-12">
<!--                            <label for="captcha"><span class=" ia-big-title ">I am not Robot</span></label>-->
                            <div class="form-line ">
                                <img id="captchaimg" border="1" src="/customer/captcha.png">
                                <a onclick='$("#captchaimg").attr("src", "/customer/captcha.png?timestamp=" + new Date().getTime());return false' class="btn btn mdi mdi-refresh btn-link col-red" tabindex="-1"></a>
                                <input type="text" name="captcha" id="captcha" placeholder="Type the above 4-digit number (CAPTCHA)" class="form-control b-1" >
<!--                                <span class="col-grey small">For detecting you are not a robot</span>-->
                            </div>
                        </div>



                        <div class="">
                            <input class="btn btn-block bg-red waves-effect ia-bigger-title" type="submit" value="Sign Up"></input>
                        </div>
                        <!--<div>* Required fields</div>-->

                    </div>
                </form>
                <div id="message" class="m-t-10"></div>
            </div>
            <!--<a target="_blank" href="https://iaaddress.io" class="col-red b-1 m-t-20 visible-xs" style="padding: .4pc; border-radius: 1pc"><b><nobr>Go to InternetAnywhere Website</nobr></b></a>-->

            <div class="footer" >
                <div class="align-center p-b-10 p-t-10">
                    <a href="/" class="col-red">Log in</a>

                </div>
            </div>
        </div>
    </div>
</div>


<!-- Jquery Core Js -->
<script src="/share/plugins/jquery/jquery.min.js"></script>

<!--which-->
<script src="/share/js/which.server.js" ></script>
<!--configs-->
<script src="/share/js/configs.js"></script>
<!--ssbind-->
<script src="/share/js/ssbind.js"></script>

<!-- Bootstrap Core Js -->
<!--<script src="../../plugins/bootstrap/js/bootstrap.js"></script>-->

<!-- Waves Effect Plugin Js -->
<!--<script src="../../plugins/node-waves/waves.js"></script>-->

<!-- Validation Plugin Js -->
<!--<script src="../../plugins/jquery-validation/jquery.validate.js"></script>-->

<!-- Custom Js -->
<!--<script src="../../js/admin.js"></script>-->
<!--<script src="../../js/pages/examples/sign-in.js"></script>-->
<!--detect device info-->
<script>
    $('.afteremail input').attr('disabled','true');

    $("#sign_up").submit(function (e) {
        $('#message').html("<i class='mdi mdi-loading mdi-spin'></i>");
        e.preventDefault();
        if($('[name="Password"]').val() !== $('[name="RePassword"]').val()){
//            $('#message').html('Password and Re-Password are not equal!');
            $('#message').html("<div class='alert alert-warning'>Password and Re-Password are not equal!</div>");

            setTimeout(function () {
                $('#message').html('');
            },3000);
            return;
        }
        var formData = $(this).serialize();//new FormData(form);
        $.ajax({
            type: "POST",
            url: "/customer/signup",
            data: formData,
//            processData: false,
//            contentType: false,
            /*xhr: function(){
             var xhr = new window.XMLHttpRequest();
             var classnew = '';
             var classold = 'mdi-hexagon-outline';

             // Handle progress
             //Upload progress
             xhr.upload.addEventListener("progress", function(evt){
             if (evt.lengthComputable) {
             var hex = Math.round((evt.loaded*6) / evt.total);
             classnew = 'mdi-hexagon-slice-'+hex;
             if(hex===0) classnew = 'mdi-hexagon-outline';
             $('#UPLD-btn').removeClass(classold).addClass(classnew);
             classold = classnew;
             console.log(hex);
             }
             }, false);
             //Download progress
             xhr.addEventListener("progress", function(evt){
             if (evt.lengthComputable) {
             var percentComplete = 'downloaded = '+evt.loaded / evt.total;
             //Do something with download progress
             console.log(percentComplete);
             }
             }, false);

             return xhr;
             },*/
            /*complete:function(){
             UPLD_file.value = '';
             console.log("Request finished.");
             load_sspage($('#UPLD_files'));
             $('#UPLD-size').text('');//Added
             $('#UPLD-file-name').val('').addClass('disabled');
             $('#UPLD-file-name').attr('placeholder',UPLD_placeholder);
             $('#UPLD-duration').val('');
             $('#UPLD-duration-show').text('');
             $('#UPLD-file-label').removeClass('disabled');
             $('#UPLD-btn').removeClass("col-red mdi-hexagon-slice-6").addClass("col-grey disabled UPLICON");
             },*/
            success: function(r){
                console.log(r);
                if(r.success){
                    $('form#sign_up').hide();
                    $('#message').html("<div class='p-t-30 p-l-30 p-b-30 p-r-30 bg-green font-18 font-thin'>"+r.message+"</div>");
                    /*if(r.redirect){
                        setTimeout(function () {
                            window.location = r.redirect;
                        },10000);
                    }*/
                }
                /* swal.fire({
                 title: "Done",
                 html: "File uploaded Successfully",
                 //                    timer: 2000,
                 icon: "success",
                 showConfirmButton: true
                 });*/
            },
            error: function (e) {
                $('#message').html("<div class='alert alert-warning'>"+e.responseJSON?e.responseJSON.message:e.response +"</div>");
//                $('#message').html(e.responseJSON?e.responseJSON.message:e.response);
                setTimeout(function () {
                    $('#message').html('');
                },15000);
                console.error("some error", e.responseJSON?e.responseJSON.message:e.response);
            }
        });
    });

    function verifyEmail() {
        $.getJSON(u, d, function () {

        })
    }

    $('a[href="#iaaddress"]').attr('href', '//'+window.location.hostname.substr(window.location.hostname.indexOf('.')+1));

    ssbindRender();
</script>
</body>

</html>
